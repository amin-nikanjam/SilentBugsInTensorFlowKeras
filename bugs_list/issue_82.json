{
  "url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29856",
  "repository_url": "https://api.github.com/repos/tensorflow/tensorflow",
  "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29856/labels{/name}",
  "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29856/comments",
  "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29856/events",
  "html_url": "https://github.com/tensorflow/tensorflow/issues/29856",
  "id": 456708679,
  "node_id": "MDU6SXNzdWU0NTY3MDg2Nzk=",
  "number": 29856,
  "title": "tf.keras.layers.UpSampling2D(interpolation='bilinear') has a smearing defect on the right & bottom edges",
  "user": {
    "login": "mindlapse",
    "id": 405560,
    "node_id": "MDQ6VXNlcjQwNTU2MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/405560?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mindlapse",
    "html_url": "https://github.com/mindlapse",
    "followers_url": "https://api.github.com/users/mindlapse/followers",
    "following_url": "https://api.github.com/users/mindlapse/following{/other_user}",
    "gists_url": "https://api.github.com/users/mindlapse/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mindlapse/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mindlapse/subscriptions",
    "organizations_url": "https://api.github.com/users/mindlapse/orgs",
    "repos_url": "https://api.github.com/users/mindlapse/repos",
    "events_url": "https://api.github.com/users/mindlapse/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mindlapse/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 404586594,
      "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=",
      "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower",
      "name": "stat:awaiting tensorflower",
      "color": "f4b400",
      "default": false,
      "description": "Status  - Awaiting response from tensorflower"
    },
    {
      "id": 473172988,
      "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=",
      "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug",
      "name": "type:bug",
      "color": "159b2e",
      "default": false,
      "description": "Bug"
    },
    {
      "id": 1097546578,
      "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4",
      "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras",
      "name": "comp:keras",
      "color": "0052cc",
      "default": false,
      "description": "Keras related issues"
    },
    {
      "id": 1160540362,
      "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy",
      "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0",
      "name": "TF 2.0",
      "color": "e79b38",
      "default": false,
      "description": "Issues relating to TensorFlow 2.0"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "tanzhenyu",
    "id": 15220929,
    "node_id": "MDQ6VXNlcjE1MjIwOTI5",
    "avatar_url": "https://avatars.githubusercontent.com/u/15220929?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tanzhenyu",
    "html_url": "https://github.com/tanzhenyu",
    "followers_url": "https://api.github.com/users/tanzhenyu/followers",
    "following_url": "https://api.github.com/users/tanzhenyu/following{/other_user}",
    "gists_url": "https://api.github.com/users/tanzhenyu/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tanzhenyu/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tanzhenyu/subscriptions",
    "organizations_url": "https://api.github.com/users/tanzhenyu/orgs",
    "repos_url": "https://api.github.com/users/tanzhenyu/repos",
    "events_url": "https://api.github.com/users/tanzhenyu/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tanzhenyu/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "tanzhenyu",
      "id": 15220929,
      "node_id": "MDQ6VXNlcjE1MjIwOTI5",
      "avatar_url": "https://avatars.githubusercontent.com/u/15220929?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tanzhenyu",
      "html_url": "https://github.com/tanzhenyu",
      "followers_url": "https://api.github.com/users/tanzhenyu/followers",
      "following_url": "https://api.github.com/users/tanzhenyu/following{/other_user}",
      "gists_url": "https://api.github.com/users/tanzhenyu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tanzhenyu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tanzhenyu/subscriptions",
      "organizations_url": "https://api.github.com/users/tanzhenyu/orgs",
      "repos_url": "https://api.github.com/users/tanzhenyu/repos",
      "events_url": "https://api.github.com/users/tanzhenyu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tanzhenyu/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2019-06-17T01:49:41Z",
  "updated_at": "2020-04-29T23:17:25Z",
  "closed_at": "2019-06-27T02:58:15Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "<em>Please make sure that this is a bug. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:bug_template</em>\r\n\r\n**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): I've provided a link to a Colab notebook demonstrating the issue below, comparing keras upsampling to what it should look like with a correct implementation as seen in tf.image.resize.\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Google Colab\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:\r\n- TensorFlow installed from (source or binary): binary\r\n- TensorFlow version (use command below): v2.0.0-beta0-16-g1d91213fe7\r\n- Python version: 3\r\n- Bazel version (if compiling from source): n/a\r\n- GCC/Compiler version (if compiling from source): n/a\r\n- CUDA/cuDNN version: n/a\r\n- GPU model and memory: n/a\r\n\r\nYou can collect some of this information using our environment capture\r\n[script](https://github.com/tensorflow/tensorflow/tree/master/tools/tf_env_collect.sh)\r\nYou can also obtain the TensorFlow version with: 1. TF 1.0: `python -c \"import\r\ntensorflow as tf; print(tf.GIT_VERSION, tf.VERSION)\"` 2. TF 2.0: `python -c\r\n\"import tensorflow as tf; print(tf.version.GIT_VERSION, tf.version.VERSION)\"`\r\n\r\n**Describe the current behavior**\r\nUpsampling using tf.keras.layers.UpSampling2D() results in unnatural smearing of the right and bottom edges of the image.  This problem is amplified when the upsampling is repeated.\r\n\r\n**Describe the expected behavior**\r\nKeras layers should use sensible default behaviour and not have this smearing issue.  This causes serious problems for autoencoders, GANs, and cost months of time.  Correct behaviour is seen with tf.image.resize(o, size=size, method=tf.image.ResizeMethod.BILINEAR).  Keras upsampling should use this as the default instead of the current defective behaviour.  Note: In TensorFlow 1.x, the tf.image.resize method had an 'align_corners' parameter that toggled between defective and proper behaviour and was set to False (defective behaviour) by default.  In TensorFlow 2, this parameter has been removed and the correct behaviour (align_corners=True behaviour) is now the default.  The keras layer should follow the same path.\r\n\r\n**Code to reproduce the issue**\r\nHere is a Colab notebook that demonstrates the issue:\r\nhttps://colab.research.google.com/drive/1rgCzJcMo4DN_9_hutr9l2vSrTRPfcd6K\r\n\r\n**Other info / logs**\r\n",
  "closed_by": {
    "login": "tensorflow-copybara",
    "id": 33434372,
    "node_id": "MDQ6VXNlcjMzNDM0Mzcy",
    "avatar_url": "https://avatars.githubusercontent.com/u/33434372?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tensorflow-copybara",
    "html_url": "https://github.com/tensorflow-copybara",
    "followers_url": "https://api.github.com/users/tensorflow-copybara/followers",
    "following_url": "https://api.github.com/users/tensorflow-copybara/following{/other_user}",
    "gists_url": "https://api.github.com/users/tensorflow-copybara/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tensorflow-copybara/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tensorflow-copybara/subscriptions",
    "organizations_url": "https://api.github.com/users/tensorflow-copybara/orgs",
    "repos_url": "https://api.github.com/users/tensorflow-copybara/repos",
    "events_url": "https://api.github.com/users/tensorflow-copybara/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tensorflow-copybara/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29856/reactions",
    "total_count": 2,
    "+1": 2,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29856/timeline",
  "performed_via_github_app": null
}
